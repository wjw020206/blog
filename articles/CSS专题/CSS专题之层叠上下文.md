# CSS专题之层叠上下文



## 前言

> 石匠敲击石头的第 15 次

在平常开发的时候，有时候会遇到使用 `z-index` 调整元素层级没有效果的情况，究其原因还是因为对层叠上下文不太了解，所以打算写一篇文章来梳理一下，如果哪里写的有问题欢迎指出，不胜感激。



## 什么是层叠上下文

层叠上下文（**Stacking Context**）是 HTML 中的三维概念，它决定了元素在 **Z 轴（垂直于电脑屏幕的方向）上**的显示顺序。**当一个元素建立了层叠上下文时，其子元素的层级（通过 `z-index` 控制）会被限制在这个上下文内部进行比较，而不会影响或被外部元素干扰。**

![image-20250525130425840](images/image-20250525130425840.png)

层叠上下文的概念有点类似于块级格式化上下文（BFC），都是在特定条件下由元素创建的独立作用区域，并且区域内遵循各自的规则，但它作用在视觉层级（`z-index`）而非布局流。



## 什么是层叠水平

在一个层叠上下文中，**层叠水平（Stacking Level）** 用于确定其**子元素**在 Z 轴方向上的显示优先级，简单来说，**层叠水平决定了同一层叠上下文内的元素谁在上、谁在下**。

所有的元素都有层叠水平
